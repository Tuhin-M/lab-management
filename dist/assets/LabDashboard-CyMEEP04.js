import{c as te,f as W,R as b,L as G,m as q,i as V,C as se,A as He,a as H,b as de,d as Ve,e as ue,g as ye,h as Xe,j as Ye,r as N,u as Ge,k as re,G as Ke,l as me,n as he,D as qe,o as Je,X as je,Y as Ne,p as Ue,P as J,q as Ze,s as e,t as Qe,H as et,v as O,S as tt,w as we,x as ke,y as st,z as Ae,B as at,E as rt,T as nt,F as it,I as pe,J as U,K as ot,M as lt,N as ct}from"./index-TcMYSotV.js";import{F as dt}from"./flask-conical-BNhZEWAb.js";import{C as ut}from"./calendar-BLN8T912.js";import{L as Ce}from"./loader-circle-CezKkU8e.js";import{T as mt}from"./trash-2-Cf4p2XP-.js";import{D as ht,a as pt,b as ft,c as xt,d as gt}from"./dialog-CuG_TsMQ.js";import{L as Pe}from"./label-BmxbEDFR.js";import{S as vt,a as bt,b as yt,c as jt,d as Nt}from"./select-D_VAVDlA.js";import{R as Le,I as wt}from"./index-BrdCMveb.js";import{C as kt}from"./CartesianGrid-BFQHPrmh.js";import"./index-BdQq_4o_.js";import"./index-CWdTz_rd.js";import"./filterUnsupportedProps-Bb-ms138.js";import"./chevron-down-DLv74dvl.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=te("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=te("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);var Ot=["layout","type","stroke","connectNulls","isRange","ref"],St=["key"],Oe;function X(s){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},X(s)}function Se(s,a){if(s==null)return{};var r=Et(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Et(s,a){if(s==null)return{};var r={};for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t)){if(a.indexOf(t)>=0)continue;r[t]=s[t]}return r}function B(){return B=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},B.apply(this,arguments)}function fe(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,t)}return r}function D(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?fe(Object(r),!0).forEach(function(t){I(s,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(r,t))})}return s}function Rt(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function xe(s,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,Re(t.key),t)}}function $t(s,a,r){return a&&xe(s.prototype,a),r&&xe(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}function It(s,a,r){return a=Q(a),Mt(s,Ee()?Reflect.construct(a,r||[],Q(s).constructor):a.apply(s,r))}function Mt(s,a){if(a&&(X(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(s)}function _t(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ee(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ee=function(){return!!s})()}function Q(s){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q(s)}function Dt(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&ne(s,a)}function ne(s,a){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ne(s,a)}function I(s,a,r){return a=Re(a),a in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function Re(s){var a=Tt(s,"string");return X(a)=="symbol"?a:a+""}function Tt(s,a){if(X(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var t=r.call(s,a);if(X(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}var F=function(s){function a(){var r;Rt(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r=It(this,a,[].concat(n)),I(r,"state",{isAnimationFinished:!0}),I(r,"id",Ge("recharts-area-")),I(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),re(l)&&l()}),I(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),re(l)&&l()}),r}return Dt(a,s),$t(a,[{key:"renderDots",value:function(t,n,i){var l=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(l&&!c)return null;var u=this.props,m=u.dot,x=u.points,d=u.dataKey,p=W(this.props,!1),o=W(m,!0),v=x.map(function(g,k){var A=D(D(D({key:"dot-".concat(k),r:3},p),o),{},{index:k,cx:g.x,cy:g.y,dataKey:d,value:g.value,payload:g.payload,points:x});return a.renderDotItem(m,A)}),h={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return b.createElement(G,B({className:"recharts-area-dots"},h),v)}},{key:"renderHorizontalRect",value:function(t){var n=this.props,i=n.baseLine,l=n.points,c=n.strokeWidth,u=l[0].x,m=l[l.length-1].x,x=t*Math.abs(u-m),d=q(l.map(function(p){return p.y||0}));return V(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(q(i.map(function(p){return p.y||0})),d)),V(d)?b.createElement("rect",{x:u<m?u:u-x,y:0,width:x,height:Math.floor(d+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(t){var n=this.props,i=n.baseLine,l=n.points,c=n.strokeWidth,u=l[0].y,m=l[l.length-1].y,x=t*Math.abs(u-m),d=q(l.map(function(p){return p.x||0}));return V(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(q(i.map(function(p){return p.x||0})),d)),V(d)?b.createElement("rect",{x:0,y:u<m?u:u-x,width:d+(c?parseInt("".concat(c),10):1),height:Math.floor(x)}):null}},{key:"renderClipRect",value:function(t){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(t):this.renderHorizontalRect(t)}},{key:"renderAreaStatically",value:function(t,n,i,l){var c=this.props,u=c.layout,m=c.type,x=c.stroke,d=c.connectNulls,p=c.isRange;c.ref;var o=Se(c,Ot);return b.createElement(G,{clipPath:i?"url(#clipPath-".concat(l,")"):null},b.createElement(se,B({},W(o,!0),{points:t,connectNulls:d,type:m,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),x!=="none"&&b.createElement(se,B({},W(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:d,fill:"none",points:t})),x!=="none"&&p&&b.createElement(se,B({},W(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:d,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(t,n){var i=this,l=this.props,c=l.points,u=l.baseLine,m=l.isAnimationActive,x=l.animationBegin,d=l.animationDuration,p=l.animationEasing,o=l.animationId,v=this.state,h=v.prevPoints,g=v.prevBaseLine;return b.createElement(He,{begin:x,duration:d,isActive:m,easing:p,from:{t:0},to:{t:1},key:"area-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(h){var R=h.length/c.length,y=c.map(function(L,M){var $=Math.floor(M*R);if(h[$]){var E=h[$],f=H(E.x,L.x),P=H(E.y,L.y);return D(D({},L),{},{x:f(A),y:P(A)})}return L}),w;if(V(u)&&typeof u=="number"){var C=H(g,u);w=C(A)}else if(de(u)||Ve(u)){var S=H(g,0);w=S(A)}else w=u.map(function(L,M){var $=Math.floor(M*R);if(g[$]){var E=g[$],f=H(E.x,L.x),P=H(E.y,L.y);return D(D({},L),{},{x:f(A),y:P(A)})}return L});return i.renderAreaStatically(y,w,t,n)}return b.createElement(G,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(A))),b.createElement(G,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(c,u,t,n)))})}},{key:"renderArea",value:function(t,n){var i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,m=this.state,x=m.prevPoints,d=m.prevBaseLine,p=m.totalLength;return u&&l&&l.length&&(!x&&p>0||!ue(x,l)||!ue(d,c))?this.renderAreaWithAnimation(t,n):this.renderAreaStatically(l,c,t,n)}},{key:"render",value:function(){var t,n=this.props,i=n.hide,l=n.dot,c=n.points,u=n.className,m=n.top,x=n.left,d=n.xAxis,p=n.yAxis,o=n.width,v=n.height,h=n.isAnimationActive,g=n.id;if(i||!c||!c.length)return null;var k=this.state.isAnimationFinished,A=c.length===1,R=ye("recharts-area",u),y=d&&d.allowDataOverflow,w=p&&p.allowDataOverflow,C=y||w,S=de(g)?this.id:g,L=(t=W(l,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},M=L.r,$=M===void 0?3:M,E=L.strokeWidth,f=E===void 0?2:E,P=Xe(l)?l:{},_=P.clipDot,Y=_===void 0?!0:_,K=$*2+f;return b.createElement(G,{className:R},y||w?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(S)},b.createElement("rect",{x:y?x:x-o/2,y:w?m:m-v/2,width:y?o:o*2,height:w?v:v*2})),!Y&&b.createElement("clipPath",{id:"clipPath-dots-".concat(S)},b.createElement("rect",{x:x-K/2,y:m-K/2,width:o+K,height:v+K}))):null,A?null:this.renderArea(C,S),(l||A)&&this.renderDots(C,Y,S),(!h||k)&&Ye.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(t,n){return t.animationId!==n.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,curBaseLine:t.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:t.points!==n.curPoints||t.baseLine!==n.curBaseLine?{curPoints:t.points,curBaseLine:t.baseLine}:null}}])}(N.PureComponent);Oe=F;I(F,"displayName","Area");I(F,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ke.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});I(F,"getBaseValue",function(s,a,r,t){var n=s.layout,i=s.baseValue,l=a.props.baseValue,c=l??i;if(V(c)&&typeof c=="number")return c;var u=n==="horizontal"?t:r,m=u.scale.domain();if(u.type==="number"){var x=Math.max(m[0],m[1]),d=Math.min(m[0],m[1]);return c==="dataMin"?d:c==="dataMax"||x<0?x:Math.max(Math.min(m[0],m[1]),0)}return c==="dataMin"?m[0]:c==="dataMax"?m[1]:m[0]});I(F,"getComposedData",function(s){var a=s.props,r=s.item,t=s.xAxis,n=s.yAxis,i=s.xAxisTicks,l=s.yAxisTicks,c=s.bandSize,u=s.dataKey,m=s.stackedData,x=s.dataStartIndex,d=s.displayedData,p=s.offset,o=a.layout,v=m&&m.length,h=Oe.getBaseValue(a,r,t,n),g=o==="horizontal",k=!1,A=d.map(function(y,w){var C;v?C=m[x+w]:(C=me(y,u),Array.isArray(C)?k=!0:C=[h,C]);var S=C[1]==null||v&&me(y,u)==null;return g?{x:he({axis:t,ticks:i,bandSize:c,entry:y,index:w}),y:S?null:n.scale(C[1]),value:C,payload:y}:{x:S?null:t.scale(C[1]),y:he({axis:n,ticks:l,bandSize:c,entry:y,index:w}),value:C,payload:y}}),R;return v||k?R=A.map(function(y){var w=Array.isArray(y.value)?y.value[0]:null;return g?{x:y.x,y:w!=null&&y.y!=null?n.scale(w):null}:{x:w!=null?t.scale(w):null,y:y.y}}):R=g?n.scale(h):t.scale(h),D({points:A,baseLine:R,layout:o,isRange:k},p)});I(F,"renderDotItem",function(s,a){var r;if(b.isValidElement(s))r=b.cloneElement(s,a);else if(re(s))r=s(a);else{var t=ye("recharts-area-dot",typeof s!="boolean"?s.className:""),n=a.key,i=Se(a,St);r=b.createElement(qe,B({},i,{key:n,className:t}))}return r});var zt=Je({chartName:"AreaChart",GraphicalChild:F,axisComponents:[{axisType:"xAxis",AxisComp:je},{axisType:"yAxis",AxisComp:Ne}],formatAxisMap:Ue});function ie(){return ie=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},ie.apply(this,arguments)}function Ft(s,a){if(s==null)return{};var r=Bt(s,a),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)t=i[n],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function Bt(s,a){if(s==null)return{};var r={},t=Object.keys(s),n,i;for(i=0;i<t.length;i++)n=t[i],!(a.indexOf(n)>=0)&&(r[n]=s[n]);return r}var oe=N.forwardRef(function(s,a){var r=s.color,t=r===void 0?"currentColor":r,n=s.size,i=n===void 0?24:n,l=Ft(s,["color","size"]);return b.createElement("svg",ie({ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),b.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),b.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});oe.propTypes={color:J.string,size:J.oneOfType([J.string,J.number])};oe.displayName="Plus";const Wt=[{label:"Dashboard",icon:e.jsx(et,{size:20}),tab:"dashboard"},{label:"Labs",icon:e.jsx(dt,{size:20}),tab:"labs"},{label:"Support",icon:e.jsx(Pt,{size:20}),tab:"support"},{label:"Bookings",icon:e.jsx(At,{size:20}),tab:"bookings"},{label:"Team",icon:e.jsx(Lt,{size:20}),tab:"team"},{label:"Calendar",icon:e.jsx(ut,{size:20}),tab:"calendar"}],Ht=({activeTab:s,setActiveTab:a})=>{const r=Ze.getCurrentUserRole(),t=Wt.filter(n=>!(r==="lab_owner"&&n.tab==="bookings"));return e.jsxs("aside",{className:"bg-gray-50 shadow-lg h-screen w-64 flex flex-col py-10 px-6 sticky top-0 z-20",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx(Qe,{to:"/",className:"mb-2",children:e.jsx("img",{src:"/lovable-uploads/08ef7f9d-005e-4c81-a1b5-1420f8ce4d9b.png",alt:"Ekitsa Logo",className:"w-16 h-16 rounded-full border-2 border-accent shadow-sm"})}),e.jsx("div",{className:"font-extrabold text-xl tracking-wide text-accent",children:"Ekitsa"})]}),e.jsx("hr",{className:"mb-6 border-gray-200"}),e.jsx("nav",{className:"flex-1",children:e.jsx("ul",{className:"flex flex-col gap-1",children:t.map(n=>{const i=s===n.tab;return e.jsx("li",{children:e.jsxs("button",{className:`flex items-center w-full py-3 px-5 mb-1 rounded-lg transition-all duration-200 ${i?"bg-accent/10 text-accent-foreground border-l-4 border-accent font-semibold shadow-inner":"text-gray-600 hover:bg-accent/10 hover:text-accent-foreground"}`,"aria-current":i?"page":void 0,onClick:()=>a(n.tab),children:[e.jsx("span",{className:`mr-4 flex items-center justify-center w-8 h-8 rounded-full transition-colors duration-200 ${i?"bg-accent/20 text-accent":"text-gray-400 group-hover:text-accent"}`,children:n.icon}),e.jsx("span",{className:`truncate transition-colors duration-200 ${i?"text-accent-foreground":"group-hover:text-accent-foreground"}`,children:n.label})]})},n.label)})})})]})},T=N.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:O("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a}));T.displayName="Card";const $e=N.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:O("flex flex-col space-y-1.5 p-6",s),...a}));$e.displayName="CardHeader";const Ie=N.forwardRef(({className:s,...a},r)=>e.jsx("h3",{ref:r,className:O("text-2xl font-semibold leading-none tracking-tight",s),...a}));Ie.displayName="CardTitle";const Vt=N.forwardRef(({className:s,...a},r)=>e.jsx("p",{ref:r,className:O("text-sm text-muted-foreground",s),...a}));Vt.displayName="CardDescription";const Me=N.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:O("p-6 pt-0",s),...a}));Me.displayName="CardContent";const _e=N.forwardRef(({className:s,...a},r)=>e.jsx("div",{ref:r,className:O("flex items-center p-6 pt-0",s),...a}));_e.displayName="CardFooter";const Xt=we("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=N.forwardRef(({className:s,variant:a,size:r,asChild:t=!1,loading:n=!1,children:i,disabled:l,...c},u)=>{const m=t?tt:"button";return e.jsxs(m,{className:O(Xt({variant:a,size:r,className:s})),ref:u,disabled:n||l,...c,children:[n?e.jsx(Ce,{className:"mr-2 h-4 w-4 animate-spin"}):null,i]})});z.displayName="Button";const Yt=we("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-100/80",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-100/80",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-100/80"}},defaultVariants:{variant:"default"}});function Gt({className:s,variant:a,...r}){return e.jsx("div",{className:O(Yt({variant:a}),s),...r})}const ge=({labs:s,onDeleteLab:a})=>{const r=ke(),t=i=>i.id||i._id||"",n=i=>typeof i=="string"?i:i&&typeof i=="object"&&[i.street,i.city,i.state].filter(Boolean).join(", ")||"No address provided";return e.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:s.length===0?e.jsxs(T,{className:"col-span-full border-dashed p-12 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:"No labs found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Connect your laboratory facilities to start receiving bookings."})]}):s.map(i=>{var c;const l=t(i);return e.jsxs(T,{className:"overflow-hidden group hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"h-44 overflow-hidden relative",children:[e.jsx("img",{src:i.image||"https://images.unsplash.com/photo-1579152276503-391494578b94?w=500&auto=format",alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(Gt,{variant:i.status==="active"?"success":"warning",children:i.status==="active"?"Active":"Registering"})})]}),e.jsxs($e,{className:"pb-3",children:[e.jsx(Ie,{className:"text-lg leading-tight",children:i.name}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:n(i.address)})]}),e.jsx(Me,{className:"pb-4",children:e.jsxs("div",{className:"flex justify-between items-center text-sm bg-gray-50/50 p-2 rounded-lg border",children:[e.jsxs("div",{className:"text-center flex-1 border-r",children:[e.jsx("div",{className:"text-muted-foreground text-[10px] uppercase font-bold tracking-wider",children:"Tests"}),e.jsx("div",{className:"font-semibold",children:((c=i.tests)==null?void 0:c.length)||0})]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("div",{className:"text-muted-foreground text-[10px] uppercase font-bold tracking-wider",children:"Rating"}),e.jsx("div",{className:"font-semibold",children:i.rating||"N/A"})]})]})}),e.jsxs(_e,{className:"flex gap-2 pt-0",children:[e.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>r(`/lab/${l}`,{state:{lab:i}}),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"})," Details"]}),e.jsx(z,{size:"sm",variant:"ghost",className:"text-destructive hover:bg-destructive/10",onClick:()=>a(l),children:e.jsx(mt,{className:"h-4 w-4"})})]})]},l)})})};var le="Progress",ce=100,[Kt,Ps]=st(le),[qt,Jt]=Kt(le),De=N.forwardRef((s,a)=>{const{__scopeProgress:r,value:t=null,max:n,getValueLabel:i=Ut,...l}=s;(n||n===0)&&!ve(n)&&console.error(Zt(`${n}`,"Progress"));const c=ve(n)?n:ce;t!==null&&!be(t,c)&&console.error(Qt(`${t}`,"Progress"));const u=be(t,c)?t:null,m=ee(u)?i(u,c):void 0;return e.jsx(qt,{scope:r,value:u,max:c,children:e.jsx(Ae.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ee(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":Fe(u,c),"data-value":u??void 0,"data-max":c,...l,ref:a})})});De.displayName=le;var Te="ProgressIndicator",ze=N.forwardRef((s,a)=>{const{__scopeProgress:r,...t}=s,n=Jt(Te,r);return e.jsx(Ae.div,{"data-state":Fe(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...t,ref:a})});ze.displayName=Te;function Ut(s,a){return`${Math.round(s/a*100)}%`}function Fe(s,a){return s==null?"indeterminate":s===a?"complete":"loading"}function ee(s){return typeof s=="number"}function ve(s){return ee(s)&&!isNaN(s)&&s>0}function be(s,a){return ee(s)&&!isNaN(s)&&s<=a&&s>=0}function Zt(s,a){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ce}\`.`}function Qt(s,a){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ce} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Be=De,es=ze;const We=N.forwardRef(({className:s,value:a,...r},t)=>e.jsx(Be,{ref:t,className:O("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...r,children:e.jsx(es,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));We.displayName=Be.displayName;const ts={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl"};function ss({title:s,description:a,isOpen:r,onClose:t,children:n,className:i,maxWidth:l="lg"}){return e.jsx(ht,{open:r,onOpenChange:t,children:e.jsxs(pt,{className:O(ts[l],"overflow-y-auto max-h-[90vh]",i),children:[e.jsxs(ft,{children:[e.jsx(xt,{children:s}),a&&e.jsx(gt,{children:a})]}),e.jsx("div",{className:"py-4",children:n})]})})}const j=N.forwardRef(({className:s,type:a,label:r,error:t,icon:n,...i},l)=>e.jsxs("div",{className:"w-full space-y-1.5",children:[r&&e.jsx(Pe,{className:t?"text-destructive":"",children:r}),e.jsxs("div",{className:"relative",children:[n&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground mr-2",children:n}),e.jsx("input",{type:a,className:O("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"border-destructive focus-visible:ring-destructive",n&&"pl-10",s),ref:l,...i})]}),t&&e.jsx("p",{className:"text-xs font-medium text-destructive",children:t})]}));j.displayName="InputGroup";function as({label:s,placeholder:a,options:r,value:t,onValueChange:n,error:i,className:l}){return e.jsxs("div",{className:`space-y-1.5 ${l}`,children:[s&&e.jsx(Pe,{className:i?"text-destructive":"",children:s}),e.jsxs(vt,{value:t,onValueChange:n,children:[e.jsx(bt,{className:i?"border-destructive focus:ring-destructive":"",children:e.jsx(yt,{placeholder:a})}),e.jsx(jt,{children:r.map(c=>e.jsx(Nt,{value:c.value,children:c.label},c.value))})]}),i&&e.jsx("p",{className:"text-xs font-medium text-destructive",children:i})]})}const Z=N.forwardRef(({className:s,label:a,id:r,...t},n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{ref:n,id:r,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(wt,{className:O("flex items-center justify-center text-current"),children:e.jsx(at,{className:"h-4 w-4"})})}),a&&e.jsx("label",{htmlFor:r,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:a})]}));Z.displayName=Le.displayName;const rs=({show:s,onClose:a,currentStep:r,labData:t,onLabDataChange:n,onSubmit:i,onStepChange:l})=>{const c=[{value:"Diagnostic",label:"Diagnostic"},{value:"Pathology",label:"Pathology"},{value:"Imaging",label:"Imaging"},{value:"Specialty",label:"Specialty"},{value:"Hospital",label:"Hospital"}],u=["Home Collection","Digital Reports","Ambulance Service","NABL Accredited","24/7 Emergency","Wheelchair Accessible","Parking Available","Phlebotomy Services"],m=["NABL","ISO","CAP","JCI","NABH","CLIA"],x=["Blood Tests","Urine Tests","Imaging","Biopsy","Genetic Testing","Allergy Testing","COVID Testing"],d=(o,v)=>{n({...t,[o]:v})},p=(o,v,h)=>{const g=v.split("."),k={...t};g.length===1?k[o]={...k[o],[g[0]]:h}:k[o]={...k[o],[g[0]]:{...k[o][g[0]],[g[1]]:h}},n(k)};return e.jsxs(ss,{title:`Lab Onboarding - Step ${r} of 5`,isOpen:s,onClose:a,maxWidth:"2xl",children:[e.jsx(We,{value:r/5*100,className:"mb-6"}),r===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{label:"Lab Name*",value:t.name,onChange:o=>d("name",o.target.value),placeholder:"Enter lab name"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(as,{label:"Lab Type*",value:t.type,options:c,onValueChange:o=>d("type",o),placeholder:"Select lab type"}),e.jsx(j,{label:"Registration Number*",value:t.registrationNumber,onChange:o=>d("registrationNumber",o.target.value),placeholder:"Lab registration number"})]}),e.jsx(j,{label:"Description",value:t.description,onChange:o=>d("description",o.target.value),placeholder:"Brief description about your lab"}),e.jsx(j,{label:"Established Date",type:"date",value:t.establishedDate,onChange:o=>d("establishedDate",o.target.value)})]}),r===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"Email*",type:"email",value:t.email,onChange:o=>d("email",o.target.value),placeholder:"contact@lab.com"}),e.jsx(j,{label:"Phone*",value:t.phone,onChange:o=>d("phone",o.target.value),placeholder:"+91XXXXXXXXXX"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"Emergency Contact",value:t.emergencyContact,onChange:o=>d("emergencyContact",o.target.value),placeholder:"+91XXXXXXXXXX"}),e.jsx(j,{label:"Website",value:t.website,onChange:o=>d("website",o.target.value),placeholder:"https://yourlab.com"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(j,{label:"Street*",value:t.street,onChange:o=>d("street",o.target.value),placeholder:"Street address"}),e.jsx(j,{label:"City*",value:t.city,onChange:o=>d("city",o.target.value),placeholder:"City"}),e.jsx(j,{label:"State*",value:t.state,onChange:o=>d("state",o.target.value),placeholder:"State"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"Zip Code*",value:t.zipCode,onChange:o=>d("zipCode",o.target.value),placeholder:"Postal code"}),e.jsx(j,{label:"Landmark",value:t.landmark,onChange:o=>d("landmark",o.target.value),placeholder:"Nearby landmark"})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Facilities"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map(o=>e.jsx(Z,{id:`facility-${o}`,label:o,checked:t.facilities.includes(o),onCheckedChange:v=>{const h=v?[...t.facilities,o]:t.facilities.filter(g=>g!==o);d("facilities",h)}},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Certifications"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.map(o=>e.jsx(Z,{id:`cert-${o}`,label:o,checked:t.certifications.includes(o),onCheckedChange:v=>{const h=v?[...t.certifications,o]:t.certifications.filter(g=>g!==o);d("certifications",h)}},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Services Offered"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map(o=>e.jsx(Z,{id:`service-${o}`,label:o,checked:t.services.includes(o),onCheckedChange:v=>{const h=v?[...t.services,o]:t.services.filter(g=>g!==o);d("services",h)}},o))})]})]}),r===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Working Hours"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"Weekdays Open",type:"time",value:t.workingHours.weekdays.open,onChange:o=>p("workingHours","weekdays.open",o.target.value)}),e.jsx(j,{label:"Weekdays Close",type:"time",value:t.workingHours.weekdays.close,onChange:o=>p("workingHours","weekdays.close",o.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"Weekends Open",type:"time",value:t.workingHours.weekends.open,onChange:o=>p("workingHours","weekends.open",o.target.value)}),e.jsx(j,{label:"Weekends Close",type:"time",value:t.workingHours.weekends.close,onChange:o=>p("workingHours","weekends.close",o.target.value)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Staff Configuration"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(j,{label:"Pathologists",type:"number",min:"0",value:t.staff.pathologists,onChange:o=>p("staff","pathologists",parseInt(o.target.value))}),e.jsx(j,{label:"Technicians",type:"number",min:"0",value:t.staff.technicians,onChange:o=>p("staff","technicians",parseInt(o.target.value))}),e.jsx(j,{label:"Receptionists",type:"number",min:"0",value:t.staff.receptionists,onChange:o=>p("staff","receptionists",parseInt(o.target.value))})]})]})]}),r===5&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-5 border rounded-xl bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Final Review"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Lab Name:"})," ",e.jsx("span",{className:"font-medium text-right",children:t.name}),e.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",e.jsxs("span",{className:"font-medium text-right",children:[t.city,", ",t.state]}),e.jsx("span",{className:"text-muted-foreground",children:"Contact:"})," ",e.jsx("span",{className:"font-medium text-right",children:t.phone}),e.jsx("span",{className:"text-muted-foreground",children:"Staff Total:"})," ",e.jsx("span",{className:"font-medium text-right",children:t.staff.pathologists+t.staff.technicians+t.staff.receptionists})]})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground pt-4",children:"By clicking complete, you agree to our terms of laboratory partnership."})]}),e.jsxs("div",{className:"flex justify-between mt-8 border-t pt-6",children:[r>1?e.jsx(z,{variant:"outline",onClick:()=>l(r-1),children:"Previous"}):e.jsx("div",{}),r<5?e.jsx(z,{onClick:()=>l(r+1),children:"Next Step"}):e.jsx(z,{onClick:i,children:"Complete Onboarding"})]})]})};function ns({fullScreen:s,text:a="Loading..."}){const r=e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx(Ce,{className:"h-10 w-10 animate-spin text-primary"}),a&&e.jsx("p",{className:"text-muted-foreground font-medium",children:a})]});return s?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:r}):e.jsx("div",{className:"p-10 w-full flex justify-center",children:r})}const ae=({icon:s,value:a,label:r,color:t})=>e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-full px-6 py-4 shadow-md bg-white",style:{borderRadius:32,minWidth:170,minHeight:80,boxShadow:"0 2px 12px 0 #0000000a",border:`1px solid ${t}33`},children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("span",{style:{background:t+"22",color:t,borderRadius:"50%",padding:6,marginRight:8,display:"flex",alignItems:"center"},children:s}),e.jsx("span",{className:"font-bold text-xl",style:{color:t},children:a})]}),e.jsx("div",{className:"text-xs text-gray-600 font-medium text-center",children:r})]}),is=["D","W","M","Y","Custom Time"],os=({value:s,onChange:a,options:r=is})=>e.jsx("div",{className:"flex items-center gap-2 mt-2 mb-4",children:r.map(t=>e.jsx("button",{className:`px-3 py-1 rounded-md font-medium text-sm border transition-colors duration-150 ${s===t?"bg-[#F5F7FA] border-[#1FC37E] text-[#1FC37E]":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,style:{minWidth:38},onClick:()=>a(t),children:t},t))}),ls=({percent:s,color:a})=>{const i=80*Math.PI,l=i-s/100*i;return e.jsxs("svg",{width:44*2,height:44*2,children:[e.jsx("circle",{stroke:"#E5E7EB",fill:"none",strokeWidth:8,cx:44,cy:44,r:40}),e.jsx("circle",{stroke:a,fill:"none",strokeWidth:8,cx:44,cy:44,r:40,strokeDasharray:i,strokeDashoffset:l,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s"}}),e.jsxs("text",{x:"50%",y:"50%",textAnchor:"middle",dy:"0.35em",fontSize:"1.5rem",fill:"#222",fontWeight:700,children:[s,"%"]})]})},cs=({items:s})=>e.jsx("div",{className:"flex flex-col gap-2 mt-2",children:s.map(a=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{style:{background:a.color,width:12,height:12,borderRadius:4,display:"inline-block"}}),e.jsx("span",{children:a.label})]},a.label))}),ds=({collectedPercent:s,pendingPercent:a,collectedColor:r="#1FC37E",pendingColor:t="#F7B500"})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex w-full h-6 rounded-full overflow-hidden shadow-sm",children:[e.jsx("div",{style:{width:`${s}%`,background:r},className:"h-full"}),e.jsx("div",{style:{width:`${a}%`,background:t},className:"h-full"})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs font-medium",children:[e.jsx("span",{style:{color:r},children:"Revenue Collected"}),e.jsx("span",{style:{color:t},children:"Revenue Pending"})]})]}),us=({active:s,payload:a,label:r})=>s&&a&&a.length?e.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:8,padding:8,fontSize:13,boxShadow:"0 2px 8px #0001"},children:[e.jsx("div",{children:e.jsx("b",{children:r})}),e.jsxs("div",{children:["Avg Score: ",e.jsx("b",{children:a[0].value})]})]}):null,ms=({data:s,color:a="#1FC37E"})=>e.jsx(rt,{width:"100%",height:200,children:e.jsxs(zt,{data:s,margin:{top:18,right:24,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:a,stopOpacity:.3}),e.jsx("stop",{offset:"100%",stopColor:a,stopOpacity:0})]})}),e.jsx(kt,{strokeDasharray:"3 3",vertical:!1,stroke:"#F2F2F2"}),e.jsx(je,{dataKey:"month",tick:{fontSize:12,fill:"#888"},axisLine:!1,tickLine:!1}),e.jsx(Ne,{tick:{fontSize:12,fill:"#888"},axisLine:!1,tickLine:!1,domain:[0,100]}),e.jsx(nt,{content:e.jsx(us,{})}),e.jsx(F,{type:"monotone",dataKey:"score",stroke:a,fillOpacity:1,fill:"url(#colorScore)",strokeWidth:3,dot:{r:4,fill:a,stroke:"#fff",strokeWidth:2},activeDot:{r:6}})]})}),Ls=()=>{var C,S,L,M,$,E;const s=ke(),a=it(),{labs:r,stats:t,loading:n,error:i}=pe(f=>f.labs),{role:l}=pe(f=>f.auth),[c,u]=N.useState("dashboard"),[m,x]=N.useState("M"),[d,p]=N.useState(!1),[o,v]=N.useState(1),[h,g]=N.useState({name:"",type:"Diagnostic",description:"",establishedDate:"",registrationNumber:"",email:"",phone:"",emergencyContact:"",website:"",street:"",city:"",state:"",zipCode:"",landmark:"",facilities:[],certifications:[],workingHours:{weekdays:{open:"09:00",close:"18:00"},weekends:{open:"10:00",close:"14:00"},holidays:{open:"",close:""}},staff:{pathologists:0,technicians:0,receptionists:0},services:[]});N.useEffect(()=>{if(l!=="lab_owner"){U.error("Access denied. Only lab owners can access this page."),s("/login");return}a(ot())},[a,l,s]),N.useEffect(()=>{i&&U.error(i)},[i]);const k=async()=>{const f={name:h.name,description:h.description,establishedDate:h.establishedDate,registrationNumber:h.registrationNumber,address:{street:h.street,city:h.city,state:h.state,zipCode:h.zipCode,country:"India",landmark:h.landmark},contact:{email:h.email,phone:h.phone,emergencyContact:h.emergencyContact,website:h.website},facilities:h.facilities,certifications:h.certifications,workingHours:{weekdays:`${h.workingHours.weekdays.open} - ${h.workingHours.weekdays.close}`,weekends:`${h.workingHours.weekends.open} - ${h.workingHours.weekends.close}`,holidays:h.workingHours.holidays.open?`${h.workingHours.holidays.open} - ${h.workingHours.holidays.close}`:"Closed"},staff:h.staff,services:h.services};try{await a(ct(f)).unwrap(),p(!1),U.success("Lab added successfully")}catch{}},A=async f=>{if(window.confirm("Are you sure you want to delete this lab?"))try{await a(lt(f)).unwrap(),U.success("Lab deleted successfully")}catch{}},R={D:{percent:10},W:{percent:20},M:{percent:25},Y:{percent:40}},y={D:{collected:5,pending:95,total:`INR ${((C=t.totalRevenue)==null?void 0:C.toLocaleString())||"0"}`},W:{collected:30,pending:70,total:`INR ${((S=t.totalRevenue)==null?void 0:S.toLocaleString())||"0"}`},M:{collected:67,pending:33,total:`INR ${((L=t.totalRevenue)==null?void 0:L.toLocaleString())||"0"}`},Y:{collected:80,pending:20,total:`INR ${((M=t.totalRevenue)==null?void 0:M.toLocaleString())||"0"}`}},w={D:[{month:"Today",score:5},{month:"Now",score:10}],W:Array.from({length:7},(f,P)=>({month:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][P],score:Math.floor(Math.random()*50)+10})),M:Array.from({length:9},(f,P)=>({month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"][P],score:Math.floor(Math.random()*80)+20})),Y:[{month:"2021",score:60},{month:"2022",score:80},{month:"2023",score:95}]};return n&&r.length===0?e.jsx(ns,{fullScreen:!0,text:"Loading dashboard..."}):e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx(Ht,{activeTab:c,setActiveTab:u}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("main",{className:"flex-1 p-6 md:p-10 overflow-y-auto",children:[c==="dashboard"&&e.jsx("div",{className:"bg-[#F5F6FA] min-h-screen w-full",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 pt-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 items-center",children:[e.jsx(ae,{icon:e.jsx("span",{className:"material-icons",children:"event"}),value:t.totalAppointments||0,label:"Total Bookings",color:"#F7B500"}),e.jsx(ae,{icon:e.jsx("span",{className:"material-icons",children:"local_hotel"}),value:t.pendingAppointments||0,label:"Pending Reports",color:"#007AFF"}),e.jsx(ae,{icon:e.jsx("span",{className:"material-icons",children:"sentiment_very_satisfied"}),value:t.totalLabs||0,label:"Active Labs",color:"#1FC37E"})]}),e.jsxs(T,{className:"p-5 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Your Labs"}),e.jsxs(z,{size:"sm",onClick:()=>p(!0),children:[e.jsx(oe,{className:"mr-2 h-4 w-4"})," Add New Lab"]})]}),r.length>0?e.jsx(ge,{labs:r,onDeleteLab:A}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"mb-4",children:"No labs added yet"}),e.jsx(z,{onClick:()=>p(!0),children:"Add Your First Lab"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:[e.jsxs(T,{className:"p-5 h-full flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"font-semibold text-lg",children:"Analytics"}),e.jsx(os,{value:m,onChange:f=>x(f),options:["D","W","M","Y"]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm mb-4",children:"Patient Feedback"}),e.jsxs("div",{className:"flex gap-8 items-center",children:[e.jsx(ls,{percent:R[m].percent,color:"#1FC37E"}),e.jsx(cs,{items:[{label:"Positive",color:"#1FC37E"},{label:"Neutral",color:"#007AFF"},{label:"Pending",color:"#F7B500"},{label:"Negative",color:"#FF4A4A"}]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm mb-3",children:"Revenue Insights"}),e.jsx(ds,{collectedPercent:y[m].collected,pendingPercent:y[m].pending}),e.jsx("div",{className:"flex justify-between text-xs mt-3 text-muted-foreground",children:e.jsxs("span",{children:["Projected: ",y[m].total]})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm mb-3",children:"Growth Analysis"}),e.jsx(ms,{data:w[m],color:"#1FC37E"})]})]})]}),e.jsxs(T,{className:"p-5 h-full flex flex-col",children:[e.jsx("div",{className:"font-semibold text-lg mb-6",children:"Recent Bookings"}),e.jsx("div",{className:"space-y-4",children:(($=t.recentAppointments)==null?void 0:$.length)>0?t.recentAppointments.map(f=>{var P,_,Y;return e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl border hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>s(`/lab-booking/${f.id}`),children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center font-bold text-primary",children:((_=(P=f.user)==null?void 0:P.name)==null?void 0:_[0])||"P"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-sm",children:((Y=f.user)==null?void 0:Y.name)||"Patient"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[new Date(f.appointmentDate).toLocaleDateString()," at ",f.appointmentTime]})]}),e.jsx("span",{className:`text-[10px] px-3 py-1 rounded-full font-bold uppercase ${f.status==="COMPLETED"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:f.status})]},f.id)}):e.jsx("div",{className:"text-center py-20 text-muted-foreground italic",children:"No recent bookings."})})]})]})]})}),c==="labs"&&e.jsx("div",{className:"container mx-auto",children:e.jsx(ge,{labs:r,onDeleteLab:A})}),c==="bookings"&&e.jsxs(T,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"All Bookings"}),e.jsx("ul",{className:"divide-y",children:(E=t.recentAppointments)==null?void 0:E.map(f=>{var P,_;return e.jsxs("li",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:(P=f.user)==null?void 0:P.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:(_=f.lab)==null?void 0:_.name})]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${f.status==="COMPLETED"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:f.status})]},f.id)})})]}),["patients","team","calendar","support"].includes(c)&&e.jsx(T,{className:"py-20 text-center text-muted-foreground",children:e.jsxs("p",{children:['Section "',c,'" is under active development.']})})]}),e.jsx(rs,{show:d,onClose:()=>{p(!1),v(1)},currentStep:o,labData:h,onLabDataChange:g,onSubmit:k,onStepChange:v})]})]})};export{Ls as default};
