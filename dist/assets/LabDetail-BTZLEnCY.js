import{c as z,r as n,s as e,v as o,B as c,F as _,E as g,q as F,ab as V,a0 as E}from"./index-DgBcbMcU.js";import{C as $}from"./calendar-CkFIFfEJ.js";import{I as O}from"./input-CJYTmRyd.js";import{P as q,a as G,b as W}from"./popover-T6qfyh6N.js";import{S as A,a as L,b as P,c as M,d as m}from"./select-CyLyTx59.js";import{B as h}from"./badge-D1SRRSXD.js";import{C as R}from"./calendar-zC7BfHlE.js";import{C as j,a as f,c as b}from"./card-CEAmbz21.js";import{T as K,c as S}from"./tabs-B_zr_1HW.js";import{A as I}from"./arrow-left-BhfpUSqy.js";import{M as Y}from"./map-pin-D2Wu8eNX.js";import{P as J}from"./phone-DfI-qHJ1.js";import{M as Q}from"./mail-BpDjwqxV.js";import{S as U}from"./shield-BWrCU2DY.js";import"./chevron-right-D9H9ncpN.js";import"./filterUnsupportedProps-Bb-ms138.js";import"./index-BdQq_4o_.js";import"./index-C06rPHWt.js";import"./index-CokvLBSM.js";import"./index-BBzG8Kdz.js";import"./chevron-down-ZgyTMxJo.js";import"./check-DOKdhm6x.js";import"./index-ENNysaz7.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),B=n.forwardRef(({className:t,...l},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:o("w-full caption-bottom text-sm",t),...l})}));B.displayName="Table";const D=n.forwardRef(({className:t,...l},a)=>e.jsx("thead",{ref:a,className:o("[&_tr]:border-b",t),...l}));D.displayName="TableHeader";const H=n.forwardRef(({className:t,...l},a)=>e.jsx("tbody",{ref:a,className:o("[&_tr:last-child]:border-0",t),...l}));H.displayName="TableBody";const Z=n.forwardRef(({className:t,...l},a)=>e.jsx("tfoot",{ref:a,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l}));Z.displayName="TableFooter";const N=n.forwardRef(({className:t,...l},a)=>e.jsx("tr",{ref:a,className:o("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l}));N.displayName="TableRow";const i=n.forwardRef(({className:t,...l},a)=>e.jsx("th",{ref:a,className:o("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l}));i.displayName="TableHead";const d=n.forwardRef(({className:t,...l},a)=>e.jsx("td",{ref:a,className:o("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l}));d.displayName="TableCell";const ee=n.forwardRef(({className:t,...l},a)=>e.jsx("caption",{ref:a,className:o("mt-4 text-sm text-muted-foreground",t),...l}));ee.displayName="TableCaption";const se=({labId:t,appointments:l,onStatusChange:a,onSearch:v,onFilter:u})=>{const r=async(s,x)=>{try{await _.updateAppointmentStatus(s,x),g.success(`Appointment status updated to ${x}`),a()}catch(C){console.error("Error updating appointment status:",C),g.error("Failed to update appointment status")}},w=s=>{switch(s){case"scheduled":return e.jsx(h,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"Scheduled"});case"completed":return e.jsx(h,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Completed"});case"cancelled":return e.jsx(h,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Cancelled"});default:return e.jsx(h,{variant:"outline",children:s})}},y=s=>s==="paid"?e.jsx(h,{className:"bg-green-100 text-green-800 border-green-300",children:"Paid"}):e.jsx(h,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"});return e.jsxs("div",{className:"bg-white rounded-md shadow",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Appointments"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{placeholder:"Search patients/tests",onChange:s=>v(s.target.value),className:"w-64"}),e.jsxs(A,{onValueChange:s=>u({status:s}),children:[e.jsx(L,{className:"w-32",children:e.jsx(P,{placeholder:"Status"})}),e.jsxs(M,{children:[e.jsx(m,{value:"all",children:"All"}),e.jsx(m,{value:"scheduled",children:"Scheduled"}),e.jsx(m,{value:"completed",children:"Completed"}),e.jsx(m,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(q,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"w-40",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Date"})]})}),e.jsx(W,{className:"w-auto p-0",children:e.jsx($,{mode:"single",onSelect:s=>u({date:s==null?void 0:s.toISOString()})})})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(D,{children:e.jsxs(N,{children:[e.jsx(i,{children:"Patient Name"}),e.jsx(i,{children:"Test"}),e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Time"}),e.jsx(i,{children:"Amount"}),e.jsx(i,{children:"Payment"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Action"})]})}),e.jsx(H,{children:l.length===0?e.jsx(N,{children:e.jsx(d,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No appointments found"})}):l.map(s=>e.jsxs(N,{children:[e.jsx(d,{children:s.patientName}),e.jsx(d,{children:s.testName}),e.jsx(d,{children:new Date(s.date).toLocaleDateString()}),e.jsx(d,{children:s.time}),e.jsxs(d,{children:["â‚¹",s.amount]}),e.jsx(d,{children:y(s.paymentStatus)}),e.jsx(d,{children:w(s.status)}),e.jsx(d,{children:e.jsxs(A,{defaultValue:s.status,onValueChange:x=>r(s._id,x),children:[e.jsx(L,{className:"w-[120px]",children:e.jsx(P,{placeholder:"Status"})}),e.jsxs(M,{children:[e.jsx(m,{value:"scheduled",children:"Scheduled"}),e.jsx(m,{value:"completed",children:"Completed"}),e.jsx(m,{value:"cancelled",children:"Cancelled"})]})]})})]},s._id))})]})}),l.length>0&&e.jsx("div",{className:"flex justify-end p-4 border-t",children:e.jsx(c,{variant:"outline",size:"sm",children:"View All"})})]})},Te=()=>{var T;const t=F(),l=V(),{id:a}=E(),[v,u]=n.useState(!0),[r,w]=n.useState(null),[y,s]=n.useState([]),x=(T=l.state)==null?void 0:T.fromDashboard;n.useEffect(()=>{(async()=>{try{u(!0);const p={_id:a,name:"Central Diagnostics",description:"A leading diagnostic center providing high-quality lab tests and healthcare services.",address:{street:"123 Main Street",city:"Mumbai",state:"Maharashtra",zipCode:"400001"},contactInfo:{phone:"9876543210",email:"contact@centraldiagnostics.com",website:"www.centraldiagnostics.com"},certifications:["NABL","ISO 9001:2015"],operatingHours:{weekdays:{open:"08:00",close:"20:00"},weekends:{open:"09:00",close:"17:00"}},image:"/placeholder.svg",rating:4.5,tests:new Array(12),status:"active"};w(p),s([{_id:"appt1",patientName:"Rahul Sharma",testName:"Complete Blood Count",date:"2025-04-15",time:"10:30 AM",status:"scheduled",paymentStatus:"paid",amount:1200},{_id:"appt2",patientName:"Priya Patel",testName:"Lipid Profile",date:"2025-04-16",time:"11:00 AM",status:"completed",paymentStatus:"paid",amount:1500},{_id:"appt3",patientName:"Amit Kumar",testName:"Thyroid Profile",date:"2025-04-17",time:"09:15 AM",status:"scheduled",paymentStatus:"pending",amount:800}])}catch(p){console.error("Failed to fetch lab data:",p),g.error("Failed to load lab details")}finally{u(!1)}})()},[a,l.state]);const C=async()=>{g.success("Appointments refreshed")};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-12 w-12 border-t-2 border-primary rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-lg",children:"Loading lab details..."})]})}):r?e.jsxs("div",{className:"flex-1 flex flex-col",children:[!x&&e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsxs(c,{variant:"ghost",onClick:()=>t(-1),children:[e.jsx(I,{className:"mr-2"})," Back to Labs"]}),e.jsx("h1",{className:"text-xl font-semibold",children:"Lab Management"}),e.jsx("div",{})]})}),e.jsx("main",{className:"flex-1 p-6 md:p-10 overflow-y-auto",children:e.jsx("div",{className:"min-h-screen bg-background pt-16 pb-12",children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs(c,{variant:"ghost",className:"mb-6 flex items-center",onClick:()=>t(-1),children:[e.jsx(I,{className:"h-4 w-4 mr-2"})," Back to Labs"]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs(j,{children:[e.jsx("div",{className:"h-40 overflow-hidden",children:e.jsx("img",{src:r.image||"/placeholder.svg",alt:r.name,className:"w-full h-full object-cover"})}),e.jsx(f,{children:e.jsx("h6",{className:"text-lg font-semibold",children:r.name})}),e.jsxs(b,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:r.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Y,{className:"h-4 w-4 mt-0.5 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[r.address.street,", ",r.address.city,", ",r.address.state,", ",r.address.zipCode]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:r.contactInfo.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:r.contactInfo.email})]}),r.contactInfo.website&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:r.contactInfo.website})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-sm",children:"Certifications"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.certifications.map((k,p)=>e.jsx("span",{className:"bg-muted text-xs font-medium px-2 py-1 rounded-md",children:k},p))})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-sm",children:"Operating Hours"})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weekdays:"}),e.jsxs("span",{children:[r.operatingHours.weekdays.open," - ",r.operatingHours.weekdays.close]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weekends:"}),e.jsxs("span",{children:[r.operatingHours.weekends.open," - ",r.operatingHours.weekends.close]})]})]})]}),e.jsxs("div",{className:"pt-4 flex justify-between",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>t(`/lab-owner/edit-lab/${a}`),children:"Edit Details"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>t(`/lab-owner/lab/${a}/tests`),children:"Manage Tests"})]})]})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(K,{defaultValue:"appointments",children:[e.jsx(S,{value:"appointments",children:e.jsxs(j,{children:[e.jsx(f,{children:e.jsx("h6",{className:"text-lg font-semibold",children:"Lab Appointments"})}),e.jsx(b,{children:e.jsx(se,{labId:a,appointments:y,onStatusChange:C,onSearch:()=>{},onFilter:()=>{}})})]})}),e.jsx(S,{value:"tests",children:e.jsxs(j,{children:[e.jsx(f,{children:e.jsx("h6",{className:"text-lg font-semibold",children:"Available Tests"})}),e.jsxs(b,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Manage the tests available at this lab"}),e.jsx(c,{size:"sm",onClick:()=>t(`/lab-owner/lab/${a}/add-test`),children:"Add New Test"})]}),e.jsxs("div",{className:"text-center py-12 border rounded-md",children:[e.jsx("p",{className:"text-muted-foreground",children:"No tests have been added yet"}),e.jsx(c,{size:"sm",className:"mt-4",onClick:()=>t(`/lab-owner/lab/${a}/add-test`),children:"Add Your First Test"})]})]})]})}),e.jsx(S,{value:"reports",children:e.jsxs(j,{children:[e.jsx(f,{children:e.jsx("h6",{className:"text-lg font-semibold",children:"Lab Reports"})}),e.jsxs(b,{children:[e.jsx("p",{className:"text-muted-foreground mb-8",children:"View and analyze performance reports for this lab"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-lg font-medium mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-muted-foreground",children:"Detailed analytics and reporting will be available soon"})]})]})]})})]})})]})]})})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Lab not found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The lab you're looking for doesn't exist or you don't have access."}),e.jsx(c,{onClick:()=>t("/lab-dashboard"),children:"Return to Dashboard"})]})})};export{Te as default};
