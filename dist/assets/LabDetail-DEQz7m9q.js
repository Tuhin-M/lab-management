import{c as Z,r as m,s as e,O as x,W as ee,x as se,an as ae,ac as te,q as re,ao as G,t as ie,Z as H,al as le}from"./index-TcMYSotV.js";import{S as k}from"./separator-Ct_USL-3.js";import{S as ne}from"./scroll-area-DCyCtquT.js";import{I as de}from"./input-VpsYF4Vr.js";import{B as j}from"./badge-D56tjCZ2.js";import{S as ce}from"./search-B-slDbzw.js";import{C as U}from"./circle-x-DACXWmak.js";import{C as oe}from"./circle-check-big-BMjokV7J.js";import{T as me,a as xe,b as q,c as N}from"./tabs-Ui8SnYbM.js";import{L as he}from"./loader-circle-CezKkU8e.js";import{A as pe}from"./arrow-left-DUUYJY6r.js";import{S as C}from"./shield-check-Dmt1f28A.js";import{S as f}from"./star-BhQ2SRjD.js";import{C as Q}from"./clock-DnR0Hdhq.js";import{P as be}from"./phone-BaKf1KZC.js";import{M as ue}from"./mail-DiaW1MN3.js";import{P as S}from"./plus-D-76Onsn.js";import{C as ge}from"./calendar-BLN8T912.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=Z("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=Z("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),X=[{name:"Complete Blood Count (CBC)",available:!0,price:699},{name:"Hemoglobin",available:!0,price:299},{name:"Blood Glucose Fasting",available:!0,price:199},{name:"Lipid Profile",available:!0,price:899},{name:"Liver Function Test",available:!0,price:1299},{name:"Kidney Function Test",available:!0,price:1199},{name:"Thyroid Profile",available:!0,price:1599},{name:"Vitamin B12",available:!0,price:899},{name:"Vitamin D3",available:!1,price:1299},{name:"HbA1c",available:!0,price:799},{name:"Urine Routine Examination",available:!0,price:299},{name:"SGPT/ALT",available:!0,price:299},{name:"SGOT/AST",available:!0,price:299},{name:"Serum Creatinine",available:!0,price:299},{name:"Serum Uric Acid",available:!1,price:399},{name:"HIV Test",available:!0,price:599},{name:"Dengue Test",available:!0,price:899},{name:"Malaria Test",available:!1,price:699},{name:"COVID-19 RT-PCR Test",available:!0,price:1499},{name:"Chest X-Ray",available:!1,price:599},{name:"USG Abdomen",available:!1,price:1999},{name:"ECG",available:!0,price:499},{name:"2D Echo",available:!1,price:2999},{name:"Allergy Profile",available:!0,price:3999},{name:"Blood Group",available:!0,price:199}],je=()=>{const[o,h]=m.useState(""),[c,d]=m.useState([]),s=o.trim()?X.filter(t=>t.name.toLowerCase().includes(o.toLowerCase())):X,y=t=>{c.includes(t)||d([...c,t])},l=t=>{d(c.filter(u=>u!==t))};return e.jsxs("div",{className:"bg-card rounded-lg border p-6 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Search for Tests"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(ce,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(de,{placeholder:"Search for tests (e.g., CBC, Sugar, Thyroid)...",className:"pl-10 h-12",value:o,onChange:t=>h(t.target.value)})]}),c.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Selected Tests:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(t=>e.jsxs(j,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 flex items-center gap-1",children:[t,e.jsxs("button",{className:"ml-1 rounded-full hover:bg-primary/20 p-0.5",onClick:()=>l(t),"aria-label":`Remove ${t}`,title:`Remove ${t}`,children:["×",e.jsx(U,{className:"h-3 w-3"})]})]},t))})]}),e.jsx(ne,{className:"h-[300px] border rounded-md",children:e.jsxs("div",{className:"p-2",children:[s.map((t,u)=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-secondary rounded-md",children:[e.jsxs("div",{className:"flex items-center",children:[t.available?e.jsx(oe,{className:"h-4 w-4 text-primary mr-2 flex-shrink-0"}):e.jsx(U,{className:"h-4 w-4 text-destructive mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:t.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["₹",t.price]})]})]}),e.jsx(x,{variant:t.available?"outline":"ghost",size:"sm",disabled:!t.available,className:t.available?"border-primary text-primary hover:bg-primary hover:text-white":"",onClick:()=>t.available&&y(t.name),children:t.available?"Add":"Unavailable"})]},u)),s.length===0&&e.jsxs("p",{className:"text-center py-8 text-muted-foreground",children:['No tests found matching "',o,'"']})]})}),c.length>0&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(x,{className:"bg-primary hover:bg-primary/90",children:"Book Selected Tests"})})]})},Ve=()=>{var $,M,R,I,D,O,z,V,_,E,F;const{toast:o}=ee(),h=se(),c=ae(),d=te(),[s,y]=m.useState((($=c.state)==null?void 0:$.lab)||null),[l,t]=m.useState((M=c.state)!=null&&M.test?[c.state.test]:[]),[u,w]=m.useState(!s),[K,J]=m.useState("overview"),[L,A]=m.useState(!1),p=re.getCurrentUserRole()==="lab_owner";if(m.useEffect(()=>{const a=async()=>{var r;if(d.id)try{w(!0);const i=await le.getLabById(d.id);if(y(i),p){const n=await G.getOwnedLabs(),b=n.data??n;A(b.some(v=>v.id===d.id))}l.length===0&&i.tests&&i.tests.length>0&&t([{id:i.tests[0].id,name:i.tests[0].name,description:i.tests[0].description,category:((r=i.tests[0].category)==null?void 0:r.name)||"General",price:i.tests[0].price}])}catch(i){console.error("Error fetching lab details:",i),o({title:"Error",description:"Failed to load lab details.",variant:"destructive"})}finally{w(!1)}};!s||l.length===0?a():(p&&d.id&&G.getOwnedLabs().then(r=>{const i=r.data??r;A(i.some(n=>n.id===d.id))}).catch(console.error),w(!1))},[d.id,p,o]),u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(he,{className:"h-10 w-10 text-primary animate-spin"})});if(!s)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Lab not found"}),e.jsx(x,{onClick:()=>h("/labs"),children:"Back to Labs"})]});const T=typeof s.address=="string"?s.address:`${((R=s.address)==null?void 0:R.street)||""}, ${((I=s.address)==null?void 0:I.city)||""}, ${((D=s.address)==null?void 0:D.state)||""} ${((O=s.address)==null?void 0:O.zipCode)||""}`,g=l.reduce((a,r)=>a+(r.price||0),0),P=s.discount?Math.round(g-g*s.discount/100):g,Y=()=>{l.length!==0&&h(`/test-booking/${l[0].id}`,{state:{lab:s,tests:l,price:P}})},B=a=>{var n;const r={id:a.id,name:a.name,description:a.description,category:((n=a.category)==null?void 0:n.name)||a.category||"General",price:a.price};l.some(b=>b.id===a.id)?(t(l.filter(b=>b.id!==a.id)),o({title:"Test Removed",description:`${a.name} removed from cart`})):(t([...l,r]),o({title:"Test Added",description:`${a.name} added to cart`}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 pt-16 relative selection:bg-primary/20",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),e.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] opacity-60"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-blue-500/5 rounded-full blur-[120px] opacity-60"})]}),e.jsxs("main",{className:"container mx-auto py-8 px-4 relative z-10",children:[e.jsxs(ie,{to:"/lab-tests",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors group",children:[e.jsx(pe,{className:"h-4 w-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Results"]}),e.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl mb-8 group h-[350px]",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url(${s.image||s.imageUrl||"https://images.unsplash.com/photo-1587370560942-ad2a04eabb6d?q=80&w=2070&auto=format&fit=crop"})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent/10"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white z-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(j,{className:"bg-primary hover:bg-primary/90 text-primary-foreground border-none",children:"Verified Lab"}),s.certifications&&s.certifications.length>0&&e.jsxs(j,{variant:"outline",className:"bg-white/10 text-white border-white/20 backdrop-blur-md",children:[e.jsx(C,{className:"h-3 w-3 mr-1"}),s.certifications[0]]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 tracking-tight",children:s.name}),e.jsxs("div",{className:"flex items-center text-white/80 text-lg",children:[e.jsx(H,{className:"h-5 w-5 mr-2 text-primary"}),e.jsx("p",{children:T})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 text-center min-w-[100px]",children:[e.jsxs("div",{className:"flex justify-center items-center gap-1 text-yellow-400 font-bold text-2xl",children:[e.jsx(f,{className:"h-6 w-6",fill:"currentColor"}),(s.rating||0).toFixed(1)]}),e.jsx("p",{className:"text-xs text-white/60 font-medium",children:"Rating"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-4 text-center min-w-[100px]",children:[e.jsxs("div",{className:"flex justify-center items-center gap-1 text-primary font-bold text-2xl",children:[e.jsx(Q,{className:"h-6 w-6"}),"Open"]}),e.jsx("p",{className:"text-xs text-white/60 font-medium",children:"Status"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(me,{defaultValue:"overview",className:"w-full",value:K,onValueChange:J,children:[e.jsxs(xe,{className:"w-full p-1 bg-white/50 backdrop-blur-sm border border-white/20 rounded-xl mb-6 flex space-x-2",children:[["overview","tests","reviews"].map(a=>e.jsx(q,{value:a,className:"flex-1 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-white data-[state=active]:shadow-lg transition-all capitalize",children:a},a)),!p&&e.jsx(q,{value:"testSearch",className:"flex-1 rounded-lg data-[state=active]:bg-primary data-[state=active]:text-white data-[state=active]:shadow-lg transition-all",children:"Search"})]}),e.jsx(N,{value:"overview",className:"space-y-6 focus-visible:outline-none",children:e.jsxs("div",{className:"bg-white/80 dark:bg-card/80 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-sm space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(C,{className:"h-6 w-6 text-primary"}),"About ",s.name]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg",children:s.description||`${s.name} provides high-quality diagnostic services with state-of-the-art infrastructure and a team of experts dedicated to clinical excellence.`})]}),e.jsx(k,{className:"bg-black/5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Certifications & Facilities"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(s.certifications||["Digital Reports","Home Collection","NABL Accredited"]).map((a,r)=>e.jsxs("div",{className:"flex items-center p-4 bg-primary/5 rounded-xl border border-primary/10",children:[e.jsx(W,{className:"h-5 w-5 text-primary mr-3"}),e.jsx("span",{className:"font-medium",children:a})]},r))})]}),e.jsx(k,{className:"bg-black/5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contact & Timings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center group",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-xl mr-4 group-hover:bg-primary group-hover:text-white transition-colors",children:e.jsx(be,{className:"h-5 w-5 text-primary group-hover:text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold mb-0.5",children:"Phone"}),e.jsx("p",{className:"text-base font-semibold",children:((z=s.contactInfo)==null?void 0:z.phone)||"+91 98765 43210"})]})]}),e.jsxs("div",{className:"flex items-center group",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-xl mr-4 group-hover:bg-primary group-hover:text-white transition-colors",children:e.jsx(ue,{className:"h-5 w-5 text-primary group-hover:text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold mb-0.5",children:"Email"}),e.jsx("p",{className:"text-base font-semibold",children:((V=s.contactInfo)==null?void 0:V.email)||`contact@${s.name.toLowerCase().replace(/\s+/g,"")}.in`})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center group",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-xl mr-4 group-hover:bg-primary group-hover:text-white transition-colors",children:e.jsx(Q,{className:"h-5 w-5 text-primary group-hover:text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold mb-0.5",children:"Operating Hours"}),e.jsx("p",{className:"text-base font-semibold",children:s.operatingHours?`Weekdays: ${(_=s.operatingHours.weekdays)==null?void 0:_.open} - ${(E=s.operatingHours.weekdays)==null?void 0:E.close}`:"Mon-Sun: 7:00 AM - 9:00 PM"})]})]}),e.jsxs("div",{className:"flex items-center group",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-xl mr-4 group-hover:bg-primary group-hover:text-white transition-colors",children:e.jsx(H,{className:"h-5 w-5 text-primary group-hover:text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold mb-0.5",children:"Location"}),e.jsx("p",{className:"text-base font-semibold",children:T})]})]})]})]})]})]})}),e.jsxs(N,{value:"tests",className:"space-y-6 focus-visible:outline-none",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white/80 backdrop-blur-md p-6 rounded-2xl border border-white/20 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Available Tests"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a test to book an appointment"})]}),L&&e.jsxs(x,{onClick:()=>h(`/lab-owner/${d.id}/add-test`),className:"bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20 transition-all hover:scale-105 rounded-xl",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Add Test"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(s.tests||[]).map(a=>{var i;const r=l.some(n=>n.id===a.id);return e.jsxs("div",{className:`group border rounded-2xl p-6 flex flex-col justify-between cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 bg-white/60 backdrop-blur-sm ${r?"border-primary ring-2 ring-primary/10 bg-primary/5":"border-white/20 hover:border-primary/30"}`,onClick:()=>B(a),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"font-bold text-lg group-hover:text-primary transition-colors pr-2",children:a.name}),e.jsx(j,{variant:"secondary",className:"bg-white/50 backdrop-blur border text-xs font-semibold",children:((i=a.category)==null?void 0:i.name)||"General"})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-6 leading-relaxed",children:a.description})]}),e.jsxs("div",{className:"flex justify-between items-end pt-4 border-t border-dashed border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest font-bold mb-1",children:"Price"}),e.jsxs("p",{className:"font-black text-2xl text-primary flex items-baseline gap-1",children:["₹",a.price,e.jsxs("span",{className:"text-xs font-normal text-muted-foreground line-through opacity-50",children:["₹",Math.round(a.price*1.2)]})]})]}),e.jsx(x,{size:"sm",variant:r?"secondary":"default",className:`rounded-xl px-6 h-10 font-bold shadow-md transition-all ${r?"bg-green-500/10 text-green-600 hover:bg-green-500/20":"bg-primary hover:bg-primary/90 hover:shadow-primary/20 hover:scale-105"} `,children:r?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Added"]}):"Add"})]})]},a.id)}),(!s.tests||s.tests.length===0)&&e.jsxs("div",{className:"col-span-2 py-16 text-center bg-white/50 rounded-2xl border border-dashed border-gray-300",children:[e.jsx("div",{className:"bg-gray-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(S,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No tests listed yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Check back later for available tests"})]})]})]}),!p&&e.jsx(N,{value:"testSearch",className:"mt-6 focus-visible:outline-none",children:e.jsx("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl border border-white/20 p-6 shadow-sm",children:e.jsx(je,{})})}),e.jsx(N,{value:"reviews",className:"mt-6 focus-visible:outline-none",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl border border-white/20 p-8 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Patient Reviews"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Overall rating based on ",((F=s.reviews)==null?void 0:F.length)||0," reviews"]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:"flex items-center bg-yellow-500/10 px-4 py-2 rounded-2xl border border-yellow-500/20",children:[e.jsx(f,{className:"h-8 w-8 text-yellow-500 mr-2",fill:"currentColor"}),e.jsx("span",{className:"text-4xl font-black text-yellow-600",children:(s.rating||0).toFixed(1)})]}),e.jsx("div",{className:"flex items-center gap-1 mt-2 text-yellow-500 text-sm",children:[...Array(5)].map((a,r)=>e.jsx(f,{className:`h-3 w-3 ${r<Math.round(s.rating||0)?"fill-current":"opacity-30"}`},r))})]})]}),e.jsxs("div",{className:"space-y-6",children:[(s.reviews||[]).map((a,r)=>{var i,n;return e.jsxs("div",{className:"group pb-6 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-cyan-400 flex items-center justify-center font-bold text-lg text-white mr-4 shadow-md",children:(((i=a.user)==null?void 0:i.name)||"U")[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:((n=a.user)==null?void 0:n.name)||"Verified User"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx("div",{className:"flex bg-yellow-50 px-2 py-1 rounded-lg border border-yellow-100",children:[...Array(5)].map((b,v)=>e.jsx(f,{className:`h-3 w-3 ${v<a.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},v))})]}),e.jsxs("div",{className:"pl-14 relative",children:[e.jsx("span",{className:"absolute left-14 top-0 text-4xl text-gray-200 font-serif -z-10",children:'"'}),e.jsx("p",{className:"text-gray-600 leading-relaxed italic",children:a.text})]})]},a.id||r)}),(!s.reviews||s.reviews.length===0)&&e.jsxs("div",{className:"py-16 text-center bg-gray-50/50 rounded-2xl",children:[e.jsx("div",{className:"bg-white p-4 rounded-full w-16 h-16 mx-auto mb-4 shadow-sm flex items-center justify-center",children:e.jsx(f,{className:"h-8 w-8 text-gray-300"})}),e.jsx("h3",{className:"font-medium text-gray-900",children:"No reviews yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Be the first to share your experience!"})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[!p&&l.length>0&&e.jsxs("div",{className:"bg-primary/95 text-primary-foreground rounded-2xl p-6 shadow-xl sticky top-24 transform transition-all hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-primary-foreground/20 pb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Booking Summary"}),e.jsxs(j,{variant:"outline",className:"bg-white/20 border-transparent text-white font-bold",children:[l.length," test",l.length>1?"s":""]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.map((a,r)=>e.jsxs("div",{className:"bg-white/10 p-3 rounded-xl backdrop-blur-sm flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm leading-tight truncate",children:a.name}),e.jsx("p",{className:"text-xs opacity-70",children:a.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold",children:["₹",a.price]}),e.jsx("button",{onClick:i=>{i.stopPropagation(),B(a)},className:"h-5 w-5 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center text-xs",children:"×"})]})]},a.id))}),e.jsxs("div",{className:"space-y-3 px-1 pt-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{className:"opacity-80",children:["Subtotal (",l.length," tests)"]}),e.jsxs("span",{className:"font-medium",children:["₹",g]})]}),s.discount>0&&e.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-green-300",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Discount (",s.discount,"%)"]}),e.jsxs("span",{children:["- ₹",Math.round(g*s.discount/100)]})]}),e.jsx(k,{className:"bg-white/20 mt-4 mb-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold",children:"Amount Payable"}),e.jsxs("span",{className:"text-3xl font-black",children:["₹",P]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 p-2 rounded-lg justify-center",children:[e.jsx(ge,{className:"h-4 w-4 opacity-70"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"Fast Report"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 p-2 rounded-lg justify-center",children:[e.jsx(C,{className:"h-4 w-4 opacity-70"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"ISO Certified"})]})]}),e.jsx(x,{onClick:Y,className:"w-full bg-white text-primary hover:bg-white/90 font-bold h-12 text-lg rounded-xl shadow-lg",children:"Confirm Booking"})]})]}),p&&L&&e.jsxs("div",{className:"bg-card rounded-2xl border p-6 shadow-sm sticky top-24",children:[e.jsx("h3",{className:"font-bold text-xl mb-6",children:"Lab Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x,{onClick:()=>h(`/lab-owner/${d.id}/add-test`),className:"w-full bg-primary hover:bg-primary/90 h-12 font-bold rounded-xl",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Add New Test"]}),e.jsx(x,{variant:"outline",onClick:()=>h("/lab-owner/dashboard"),className:"w-full h-12 font-bold rounded-xl border-2",children:"Manage Dashboard"})]})]})]})]})]})]})};export{Ve as default};
