import{s as e,O as n,ao as M,J as b,x as B,an as H,ac as z,r as u,Z as V}from"./index-TcMYSotV.js";import{C as _}from"./calendar-BArorj_6.js";import{T as $,a as E,b as y,c as i,d as O,e as l}from"./table-tvGct60w.js";import{I as R}from"./input-VpsYF4Vr.js";import{P as F,a as G,b as W}from"./popover-CONKk_ZS.js";import{S as k,a as T,b as L,c as P,d as c}from"./select-D_VAVDlA.js";import{B as m}from"./badge-D56tjCZ2.js";import{C as D}from"./calendar-BLN8T912.js";import{C as j,b as p,a as f}from"./card-P2OsDbbh.js";import{T as q,c as C}from"./tabs-Ui8SnYbM.js";import{A as I}from"./arrow-left-DUUYJY6r.js";import{P as J}from"./phone-BaKf1KZC.js";import{M as K}from"./mail-DiaW1MN3.js";import{G as Y}from"./globe-CiST2K4X.js";import{S as Z}from"./shield-D4pbbCgO.js";import"./filterUnsupportedProps-Bb-ms138.js";import"./index-BdQq_4o_.js";import"./index-CWdTz_rd.js";import"./chevron-down-DLv74dvl.js";const Q=({labId:r,appointments:d,onStatusChange:t,onSearch:N,onFilter:x})=>{const a=async(s,o)=>{try{await M.updateAppointmentStatus(s,o),b.success(`Appointment status updated to ${o}`),t()}catch(w){console.error("Error updating appointment status:",w),b.error("Failed to update appointment status")}},g=s=>{switch(s){case"scheduled":return e.jsx(m,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"Scheduled"});case"completed":return e.jsx(m,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Completed"});case"cancelled":return e.jsx(m,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Cancelled"});default:return e.jsx(m,{variant:"outline",children:s})}},v=s=>s==="paid"?e.jsx(m,{className:"bg-green-100 text-green-800 border-green-300",children:"Paid"}):e.jsx(m,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"});return e.jsxs("div",{className:"bg-white rounded-md shadow",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Appointments"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{placeholder:"Search patients/tests",onChange:s=>N(s.target.value),className:"w-64"}),e.jsxs(k,{onValueChange:s=>x({status:s}),children:[e.jsx(T,{className:"w-32",children:e.jsx(L,{placeholder:"Status"})}),e.jsxs(P,{children:[e.jsx(c,{value:"all",children:"All"}),e.jsx(c,{value:"scheduled",children:"Scheduled"}),e.jsx(c,{value:"completed",children:"Completed"}),e.jsx(c,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(F,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"w-40",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Date"})]})}),e.jsx(W,{className:"w-auto p-0",children:e.jsx(_,{mode:"single",onSelect:s=>x({date:s==null?void 0:s.toISOString()})})})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($,{children:[e.jsx(E,{children:e.jsxs(y,{children:[e.jsx(i,{children:"Patient Name"}),e.jsx(i,{children:"Test"}),e.jsx(i,{children:"Date"}),e.jsx(i,{children:"Time"}),e.jsx(i,{children:"Amount"}),e.jsx(i,{children:"Payment"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Action"})]})}),e.jsx(O,{children:d.length===0?e.jsx(y,{children:e.jsx(l,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No appointments found"})}):d.map(s=>e.jsxs(y,{children:[e.jsx(l,{children:s.patientName}),e.jsx(l,{children:s.testName}),e.jsx(l,{children:new Date(s.date).toLocaleDateString()}),e.jsx(l,{children:s.time}),e.jsxs(l,{children:["â‚¹",s.amount]}),e.jsx(l,{children:v(s.paymentStatus)}),e.jsx(l,{children:g(s.status)}),e.jsx(l,{children:e.jsxs(k,{defaultValue:s.status,onValueChange:o=>a(s._id,o),children:[e.jsx(T,{className:"w-[120px]",children:e.jsx(L,{placeholder:"Status"})}),e.jsxs(P,{children:[e.jsx(c,{value:"scheduled",children:"Scheduled"}),e.jsx(c,{value:"completed",children:"Completed"}),e.jsx(c,{value:"cancelled",children:"Cancelled"})]})]})})]},s._id))})]})}),d.length>0&&e.jsx("div",{className:"flex justify-end p-4 border-t",children:e.jsx(n,{variant:"outline",size:"sm",children:"View All"})})]})},be=()=>{var S;const r=B(),d=H(),{id:t}=z(),[N,x]=u.useState(!0),[a,g]=u.useState(null),[v,s]=u.useState([]),o=(S=d.state)==null?void 0:S.fromDashboard;u.useEffect(()=>{(async()=>{try{x(!0);const h={_id:t,name:"Central Diagnostics",description:"A leading diagnostic center providing high-quality lab tests and healthcare services.",address:{street:"123 Main Street",city:"Mumbai",state:"Maharashtra",zipCode:"400001"},contactInfo:{phone:"9876543210",email:"contact@centraldiagnostics.com",website:"www.centraldiagnostics.com"},certifications:["NABL","ISO 9001:2015"],operatingHours:{weekdays:{open:"08:00",close:"20:00"},weekends:{open:"09:00",close:"17:00"}},image:"/placeholder.svg",rating:4.5,tests:new Array(12),status:"active"};g(h),s([{_id:"appt1",patientName:"Rahul Sharma",testName:"Complete Blood Count",date:"2025-04-15",time:"10:30 AM",status:"scheduled",paymentStatus:"paid",amount:1200},{_id:"appt2",patientName:"Priya Patel",testName:"Lipid Profile",date:"2025-04-16",time:"11:00 AM",status:"completed",paymentStatus:"paid",amount:1500},{_id:"appt3",patientName:"Amit Kumar",testName:"Thyroid Profile",date:"2025-04-17",time:"09:15 AM",status:"scheduled",paymentStatus:"pending",amount:800}])}catch(h){console.error("Failed to fetch lab data:",h),b.error("Failed to load lab details")}finally{x(!1)}})()},[t,d.state]);const w=async()=>{b.success("Appointments refreshed")};return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-12 w-12 border-t-2 border-primary rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-lg",children:"Loading lab details..."})]})}):a?e.jsxs("div",{className:"flex-1 flex flex-col",children:[!o&&e.jsx("div",{className:"bg-white shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsxs(n,{variant:"ghost",onClick:()=>r(-1),children:[e.jsx(I,{className:"mr-2"})," Back to Labs"]}),e.jsx("h1",{className:"text-xl font-semibold",children:"Lab Management"}),e.jsx("div",{})]})}),e.jsx("main",{className:"flex-1 p-6 md:p-10 overflow-y-auto",children:e.jsx("div",{className:"min-h-screen bg-background pt-16 pb-12",children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs(n,{variant:"ghost",className:"mb-6 flex items-center",onClick:()=>r(-1),children:[e.jsx(I,{className:"h-4 w-4 mr-2"})," Back to Labs"]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs(j,{children:[e.jsx("div",{className:"h-40 overflow-hidden",children:e.jsx("img",{src:a.image||"/placeholder.svg",alt:a.name,className:"w-full h-full object-cover"})}),e.jsx(p,{children:e.jsx("h6",{className:"text-lg font-semibold",children:a.name})}),e.jsxs(f,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(V,{className:"h-4 w-4 mt-0.5 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[a.address.street,", ",a.address.city,", ",a.address.state,", ",a.address.zipCode]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:a.contactInfo.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:a.contactInfo.email})]}),a.contactInfo.website&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:a.contactInfo.website})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-sm",children:"Certifications"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.certifications.map((A,h)=>e.jsx("span",{className:"bg-muted text-xs font-medium px-2 py-1 rounded-md",children:A},h))})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-sm",children:"Operating Hours"})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weekdays:"}),e.jsxs("span",{children:[a.operatingHours.weekdays.open," - ",a.operatingHours.weekdays.close]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weekends:"}),e.jsxs("span",{children:[a.operatingHours.weekends.open," - ",a.operatingHours.weekends.close]})]})]})]}),e.jsxs("div",{className:"pt-4 flex justify-between",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>r(`/lab-owner/edit-lab/${t}`),children:"Edit Details"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>r(`/lab-owner/lab/${t}/tests`),children:"Manage Tests"})]})]})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(q,{defaultValue:"appointments",children:[e.jsx(C,{value:"appointments",children:e.jsxs(j,{children:[e.jsx(p,{children:e.jsx("h6",{className:"text-lg font-semibold",children:"Lab Appointments"})}),e.jsx(f,{children:e.jsx(Q,{labId:t,appointments:v,onStatusChange:w,onSearch:()=>{},onFilter:()=>{}})})]})}),e.jsx(C,{value:"tests",children:e.jsxs(j,{children:[e.jsx(p,{children:e.jsx("h6",{className:"text-lg font-semibold",children:"Available Tests"})}),e.jsxs(f,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Manage the tests available at this lab"}),e.jsx(n,{size:"sm",onClick:()=>r(`/lab-owner/lab/${t}/add-test`),children:"Add New Test"})]}),e.jsxs("div",{className:"text-center py-12 border rounded-md",children:[e.jsx("p",{className:"text-muted-foreground",children:"No tests have been added yet"}),e.jsx(n,{size:"sm",className:"mt-4",onClick:()=>r(`/lab-owner/lab/${t}/add-test`),children:"Add Your First Test"})]})]})]})}),e.jsx(C,{value:"reports",children:e.jsxs(j,{children:[e.jsx(p,{children:e.jsx("h6",{className:"text-lg font-semibold",children:"Lab Reports"})}),e.jsxs(f,{children:[e.jsx("p",{className:"text-muted-foreground mb-8",children:"View and analyze performance reports for this lab"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-lg font-medium mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-muted-foreground",children:"Detailed analytics and reporting will be available soon"})]})]})]})})]})})]})]})})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Lab not found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The lab you're looking for doesn't exist or you don't have access."}),e.jsx(n,{onClick:()=>r("/lab-dashboard"),children:"Return to Dashboard"})]})})};export{be as default};
