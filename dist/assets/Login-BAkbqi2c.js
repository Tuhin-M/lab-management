import{ae as E,aF as F,R as n,r as L,a7 as e,a8 as o,aU as y,a9 as S,ah as _,a6 as c,aV as A,aH as j}from"./index-DGQnzEId.js";import{F as R,a as d,b as m,c as x,d as p,e as w}from"./form-D0N6cZYL.js";import{u as P,t as H,z as l}from"./zod-CevI-mEX.js";import{C as M}from"./checkbox-oF1nHLaV.js";import{I as N}from"./input-CIeWkrV3.js";import{m as r}from"./motion-bVXQQQD1.js";import{S as z}from"./shield-DhL_B5m7.js";import{C as O}from"./clock-Cwo_8Tkt.js";import{S as q}from"./sparkles-VHr_ncJG.js";import{E as B}from"./eye-off-Dn7MNB9Q.js";import{E as D}from"./eye-DmvSNwIU.js";import{A as U}from"./arrow-right-BIXrKAcQ.js";import"./label-CfCTkVuX.js";import"./index-CipDl9u1.js";import"./filterUnsupportedProps-Bb-ms138.js";const V=l.object({email:l.string().email({message:"Invalid email address"}),password:l.string().min(1,{message:"Password is required"}),rememberMe:l.boolean().optional()}),ie=()=>{const t=E(),v=F(),[h,k]=n.useState(!1),[u,b]=n.useState(!1),[f,g]=n.useState(null);L.useEffect(()=>{(async()=>{if(await c.isAuthenticated()){const a=c.getCurrentUserRole();t(a==="lab_owner"?"/lab-dashboard":"/profile")}})()},[t]);const i=P({resolver:H(V),defaultValues:{email:"",password:"",rememberMe:!1}}),C=async s=>{try{b(!0),g(null);const a=await c.login(s.email,s.password);a&&(v(A({user:a.user,role:a.role})),a.role==="lab_owner"?t("/lab-dashboard"):t("/profile"),j.success("Successfully logged in!"))}catch(a){console.error("Login failed:",a),g(a.message||"Invalid email or password"),j.error(a.message||"Login failed")}finally{b(!1)}};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-gray-900 via-gray-800 to-black relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:"url('https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?auto=format&fit=crop&q=80&w=2000')"}}),e.jsx(r.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 right-20 w-72 h-72 bg-primary/30 rounded-full blur-[100px]"}),e.jsx(r.div,{animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-20 w-64 h-64 bg-cyan-500/20 rounded-full blur-[80px]"})]}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center p-12 text-white",children:e.jsxs(r.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},children:[e.jsxs(o,{to:"/",className:"flex items-center gap-3 mb-12",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-primary/20 backdrop-blur-sm flex items-center justify-center border border-primary/30",children:e.jsx(y,{className:"h-7 w-7 text-primary"})}),e.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Ekitsa"})]}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:["Your Health,",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-cyan-400 to-primary",children:"Our Priority"})]}),e.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-md",children:"Access quality healthcare from trusted labs and doctors. Book tests, consult specialists, and manage your health - all in one platform."}),e.jsx("div",{className:"space-y-4",children:[{icon:z,label:"NABL Certified Labs"},{icon:O,label:"Reports in 6 Hours"},{icon:S,label:"Free Home Collection"}].map((s,a)=>e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+a*.1,duration:.5},className:"flex items-center gap-3 text-gray-300",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10",children:e.jsx(s.icon,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"font-medium",children:s.label})]},a))})]})})]}),e.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center p-6 md:p-12 bg-slate-50/50 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:24px_24px]"}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsxs(o,{to:"/",className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(y,{className:"h-6 w-6 text-primary"})}),e.jsx("span",{className:"text-xl font-bold",children:"Ekitsa"})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(r.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 text-primary mb-4 shadow-lg",children:e.jsx(q,{className:"w-7 h-7"})}),e.jsx(r.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-3xl font-bold tracking-tight",children:"Welcome back"}),e.jsx(r.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-muted-foreground mt-2 text-lg",children:"Log in to continue with Ekitsa"})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 p-8",children:[f&&e.jsxs(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl text-sm flex items-center",role:"alert",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:f})]}),e.jsx(R,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(C),className:"space-y-5",children:[e.jsx(d,{control:i.control,name:"email",render:({field:s,fieldState:a})=>e.jsxs(m,{children:[e.jsx(x,{className:"text-foreground/80 font-medium",children:"Email"}),e.jsx(p,{children:e.jsx(N,{...s,type:"email",placeholder:"you@example.com",autoComplete:"email",className:`h-12 bg-white border-slate-200 rounded-xl focus:border-primary focus:ring-primary/20 transition-all ${a.invalid?"border-red-500":""}`})}),e.jsx(w,{})]})}),e.jsx(d,{control:i.control,name:"password",render:({field:s,fieldState:a})=>e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{className:"text-foreground/80 font-medium",children:"Password"}),e.jsx(o,{to:"#",className:"text-xs text-primary hover:underline font-medium",children:"Forgot password?"})]}),e.jsx(p,{children:e.jsxs("div",{className:"relative",children:[e.jsx(N,{...s,type:h?"text":"password",placeholder:"Enter your password",autoComplete:"current-password",className:`h-12 bg-white border-slate-200 rounded-xl focus:border-primary focus:ring-primary/20 transition-all pr-12 ${a.invalid?"border-red-500":""}`}),e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-primary focus:outline-none transition-colors",onClick:()=>k(I=>!I),tabIndex:-1,children:h?e.jsx(B,{className:"w-5 h-5"}):e.jsx(D,{className:"w-5 h-5"})})]})}),e.jsx(w,{})]})}),e.jsx(d,{control:i.control,name:"rememberMe",render:({field:s})=>e.jsxs(m,{className:"flex items-center gap-2 space-y-0",children:[e.jsx(p,{children:e.jsx(M,{checked:s.value,onCheckedChange:s.onChange,id:"rememberMe",className:"data-[state=checked]:bg-primary border-slate-300 rounded"})}),e.jsx(x,{htmlFor:"rememberMe",className:"font-normal cursor-pointer text-muted-foreground select-none",children:"Remember me"})]})}),e.jsx(_,{type:"submit",className:"w-full font-semibold text-base h-12 rounded-xl shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all duration-300 transform hover:-translate-y-0.5 bg-gradient-to-r from-primary to-cyan-500 hover:opacity-90",disabled:u,children:u?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Logging in..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Log In ",e.jsx(U,{className:"h-5 w-5"})]})})]})})]}),e.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(o,{to:"/signup",className:"text-primary font-semibold hover:underline",children:"Sign up"})]})]})]})]})};export{ie as default};
