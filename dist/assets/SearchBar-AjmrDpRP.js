import{r as o,a7 as e,ah as h,aL as n,aP as c,aY as k}from"./index-DGQnzEId.js";import{I as C}from"./input-CIeWkrV3.js";import{B as S}from"./badge-mzHaQXoz.js";import{P,a as B,b as T}from"./popover-lFmkDFEp.js";import{C as D}from"./chevron-down-BxHl7DOL.js";import{S as $}from"./search-DLOdkgEU.js";import{A as F}from"./index-DYj1Spqv.js";import{m as u}from"./motion-bVXQQQD1.js";const X=({onSearch:d,maxWidth:b="max-w-xl",placeholder:y,context:z="general",animated:f=!0,className:g=""})=>{const[t,i]=o.useState(""),[s,l]=o.useState("tests"),[m,p]=o.useState(!1),v=o.useRef(null),j=[{label:"Full Body Checkup",type:"test"},{label:"Vitamin D",type:"test"},{label:"Cardiologist",type:"doctor"},{label:"Thyroid Profile",type:"test"}],N=r=>{r==null||r.preventDefault(),t.trim()&&d(t.trim(),s)},w=(r,a)=>{i(r),l(a==="doctor"?"doctors":"tests"),d(r,a==="doctor"?"doctors":"tests")},x=e.jsxs("div",{className:`relative w-full ${b} mx-auto z-50 ${g}`,children:[e.jsxs("form",{onSubmit:N,className:`relative flex items-center bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-2xl border border-white/20 shadow-2xl transition-all duration-300 ${m?"ring-2 ring-primary/50 scale-[1.01]":"hover:scale-[1.01]"}`,children:[e.jsx("div",{className:"relative border-r border-gray-200 dark:border-gray-700 h-8 flex items-center",children:e.jsxs(P,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(h,{variant:"ghost",size:"sm",className:"h-full px-3 text-muted-foreground hover:text-foreground hover:bg-transparent gap-1 rounded-l-2xl",children:[s==="tests"?e.jsx(n,{className:"h-4 w-4 text-primary"}):e.jsx(c,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"hidden sm:inline font-medium text-xs uppercase tracking-wide",children:s==="tests"?"Tests":"Doctors"}),e.jsx(D,{className:"h-3 w-3 opacity-50"})]})}),e.jsxs(T,{className:"w-[140px] p-1",align:"start",children:[e.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-sm cursor-pointer hover:bg-primary/10 transition-colors ${s==="tests"?"bg-primary/5 text-primary font-medium":""}`,onClick:()=>l("tests"),children:[e.jsx(n,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Lab Tests"})]}),e.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-sm cursor-pointer hover:bg-primary/10 transition-colors ${s==="doctors"?"bg-primary/5 text-primary font-medium":""}`,onClick:()=>l("doctors"),children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Doctors"})]})]})]})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(C,{ref:v,type:"text",placeholder:y||(s==="tests"?"Search for tests, packages...":"Search for doctors, specialties..."),value:t,onChange:r=>i(r.target.value),onFocus:()=>p(!0),onBlur:()=>setTimeout(()=>p(!1),200),className:"bg-transparent border-0 focus-visible:ring-0 h-14 pl-4 pr-10 text-base placeholder:text-muted-foreground/50 w-full"}),t&&e.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-muted-foreground hover:text-foreground rounded-full hover:bg-muted/50",children:e.jsx(k,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"pr-1.5 pl-1",children:e.jsx(h,{type:"submit",size:"icon",className:"h-11 w-11 rounded-xl bg-primary hover:bg-primary/90 text-black shadow-lg shadow-primary/25 transition-all active:scale-95",children:e.jsx($,{className:"h-5 w-5"})})})]}),e.jsx(F,{children:m&&!t&&e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl overflow-hidden p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-2",children:"Popular Searches"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((r,a)=>e.jsxs(S,{variant:"secondary",className:"cursor-pointer hover:bg-primary/10 hover:text-primary transition-colors px-3 py-1.5 h-auto text-sm font-medium border-transparent hover:border-primary/20 border",onClick:()=>w(r.label,r.type),children:[r.type==="test"?e.jsx(n,{className:"h-3 w-3 mr-1.5 opacity-70"}):e.jsx(c,{className:"h-3 w-3 mr-1.5 opacity-70"}),r.label]},a))})]})})]});return f?e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:x}):x};export{X as S};
