import{ae as _,aF as A,R as h,r as L,a7 as e,a8 as b,aU as N,a9 as U,aM as H,ah as z,a6 as g,aV as B,aH as v}from"./index-DGQnzEId.js";import{F as O,a as d,b as l,c as o,d as n,e as m}from"./form-D0N6cZYL.js";import{R as V,a as k}from"./radio-group-L3fHJYWU.js";import{u as J,t as M,z as c}from"./zod-CevI-mEX.js";import{I as x}from"./input-CIeWkrV3.js";import{m as r}from"./motion-bVXQQQD1.js";import{S as D}from"./shield-DhL_B5m7.js";import{C as G}from"./clock-Cwo_8Tkt.js";import{S as q}from"./sparkles-VHr_ncJG.js";import{C}from"./circle-check-C3Gw5A3x.js";import{F as W}from"./flask-conical-ClW5vPgT.js";import{E as P}from"./eye-off-Dn7MNB9Q.js";import{E as S}from"./eye-DmvSNwIU.js";import{A as K}from"./arrow-right-BIXrKAcQ.js";import"./label-CfCTkVuX.js";import"./index-CipDl9u1.js";const Q=c.object({name:c.string().min(2,{message:"Name must be at least 2 characters"}),email:c.string().email({message:"Invalid email address"}),phone:c.string().min(10,{message:"Phone number must be at least 10 digits"}),password:c.string().min(8,{message:"Password must be at least 8 characters"}),confirmPassword:c.string(),role:c.enum(["user","lab_owner"])}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),me=()=>{const t=_(),F=A(),[p,E]=h.useState(!1),[u,I]=h.useState(!1),[j,f]=h.useState(!1),[y,w]=h.useState(null);L.useEffect(()=>{(async()=>{if(await g.isAuthenticated()){const a=g.getCurrentUserRole();t(a==="lab_owner"?"/lab-dashboard":"/profile")}})()},[t]);const i=J({resolver:M(Q),defaultValues:{name:"",email:"",phone:"",password:"",confirmPassword:"",role:"user"}}),R=async s=>{try{f(!0),w(null);const a=await g.signup({name:s.name,email:s.email,phone:s.phone,password:s.password,role:s.role});a&&(F(B({user:a.user,role:a.role})),v.success("Account created successfully! Welcome to Ekitsa."),a.role==="lab_owner"?t("/lab-dashboard"):t("/profile"))}catch(a){console.error("Sign up error:",a),w(a.message||"Registration failed. Please try again."),v.error(a.message||"Registration failed. Please try again.")}finally{f(!1)}};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-gray-900 via-gray-800 to-black relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:"url('https://images.unsplash.com/photo-1579684385127-1ef15d508118?auto=format&fit=crop&q=80&w=2000')"}}),e.jsx(r.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 right-20 w-72 h-72 bg-primary/30 rounded-full blur-[100px]"}),e.jsx(r.div,{animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 left-20 w-64 h-64 bg-cyan-500/20 rounded-full blur-[80px]"})]}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center p-10 text-white",children:e.jsxs(r.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},children:[e.jsxs(b,{to:"/",className:"flex items-center gap-3 mb-10",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-primary/20 backdrop-blur-sm flex items-center justify-center border border-primary/30",children:e.jsx(N,{className:"h-7 w-7 text-primary"})}),e.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Ekitsa"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-4 leading-tight",children:["Join",e.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-cyan-400 to-primary",children:[" ","10,000+"," "]}),"Happy Users"]}),e.jsx("p",{className:"text-gray-400 text-base mb-8 max-w-sm",children:"Book lab tests, consult doctors, and manage your family's health - all in one platform."}),e.jsx("div",{className:"space-y-3",children:[{icon:D,label:"NABL Certified Labs"},{icon:G,label:"Reports in 6 Hours"},{icon:U,label:"Free Home Collection"}].map((s,a)=>e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+a*.1,duration:.5},className:"flex items-center gap-3 text-gray-300 text-sm",children:[e.jsx("div",{className:"h-9 w-9 rounded-xl bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10",children:e.jsx(s.icon,{className:"h-4 w-4 text-primary"})}),e.jsx("span",{className:"font-medium",children:s.label})]},a))})]})})]}),e.jsxs("div",{className:"w-full lg:w-3/5 flex flex-col justify-center items-center p-6 md:p-10 bg-slate-50/50 relative overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:24px_24px]"}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-lg relative z-10 py-8",children:[e.jsx("div",{className:"lg:hidden text-center mb-6",children:e.jsxs(b,{to:"/",className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(N,{className:"h-6 w-6 text-primary"})}),e.jsx("span",{className:"text-xl font-bold",children:"Ekitsa"})]})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(r.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 text-primary mb-4 shadow-lg",children:e.jsx(q,{className:"w-7 h-7"})}),e.jsx(r.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Create your account"}),e.jsx(r.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-muted-foreground mt-2",children:"Join Ekitsa to book lab tests and manage appointments"})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"bg-white/80 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 p-6 md:p-8",children:[y&&e.jsxs(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-xl text-sm flex items-center",role:"alert",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 mr-3 flex-shrink-0"}),e.jsx("span",{children:y})]}),e.jsx(O,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(R),className:"space-y-4",children:[e.jsx(d,{control:i.control,name:"role",render:({field:s})=>e.jsxs(l,{className:"space-y-3",children:[e.jsx(o,{className:"text-base font-semibold",children:"I am registering as a"}),e.jsx(n,{children:e.jsxs(V,{onValueChange:s.onChange,defaultValue:s.value,className:"grid grid-cols-2 gap-3",children:[e.jsxs(l,{children:[e.jsx(n,{children:e.jsx(k,{value:"user",className:"peer sr-only"})}),e.jsxs(o,{className:"relative flex flex-col items-center justify-center rounded-xl border-2 border-slate-200 bg-white p-4 hover:bg-slate-50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 transition-all cursor-pointer",children:[e.jsx(H,{className:"mb-2 h-6 w-6 text-primary"}),e.jsx("span",{className:"font-semibold text-sm",children:"Patient / User"}),e.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Book tests & appointments"}),s.value==="user"&&e.jsx(C,{className:"absolute top-2 right-2 h-4 w-4 text-primary"})]})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsx(k,{value:"lab_owner",className:"peer sr-only"})}),e.jsxs(o,{className:"relative flex flex-col items-center justify-center rounded-xl border-2 border-slate-200 bg-white p-4 hover:bg-slate-50 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 transition-all cursor-pointer",children:[e.jsx(W,{className:"mb-2 h-6 w-6 text-primary"}),e.jsx("span",{className:"font-semibold text-sm",children:"Lab Owner"}),e.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Manage labs & tests"}),s.value==="lab_owner"&&e.jsx(C,{className:"absolute top-2 right-2 h-4 w-4 text-primary"})]})]})]})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{control:i.control,name:"name",render:({field:s})=>e.jsxs(l,{children:[e.jsx(o,{children:"Full Name"}),e.jsx(n,{children:e.jsx(x,{placeholder:"John Doe",...s,className:"h-11 bg-white border-slate-200 rounded-xl"})}),e.jsx(m,{})]})}),e.jsx(d,{control:i.control,name:"phone",render:({field:s})=>e.jsxs(l,{children:[e.jsx(o,{children:"Phone Number"}),e.jsx(n,{children:e.jsx(x,{type:"tel",placeholder:"9876543210",...s,className:"h-11 bg-white border-slate-200 rounded-xl"})}),e.jsx(m,{})]})})]}),e.jsx(d,{control:i.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(o,{children:"Email"}),e.jsx(n,{children:e.jsx(x,{type:"email",placeholder:"john@example.com",...s,className:"h-11 bg-white border-slate-200 rounded-xl"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{control:i.control,name:"password",render:({field:s})=>e.jsxs(l,{children:[e.jsx(o,{children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{children:e.jsx(x,{type:p?"text":"password",placeholder:"••••••••",...s,className:"h-11 bg-white border-slate-200 rounded-xl pr-10"})}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-primary",onClick:()=>E(!p),children:p?e.jsx(P,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]}),e.jsx(m,{})]})}),e.jsx(d,{control:i.control,name:"confirmPassword",render:({field:s})=>e.jsxs(l,{children:[e.jsx(o,{children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{children:e.jsx(x,{type:u?"text":"password",placeholder:"••••••••",...s,className:"h-11 bg-white border-slate-200 rounded-xl pr-10"})}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-primary",onClick:()=>I(!u),children:u?e.jsx(P,{className:"h-4 w-4"}):e.jsx(S,{className:"h-4 w-4"})})]}),e.jsx(m,{})]})})]}),e.jsx(z,{type:"submit",className:"w-full mt-2 font-semibold text-base h-12 rounded-xl shadow-lg shadow-primary/20 hover:shadow-primary/30 transition-all duration-300 transform hover:-translate-y-0.5 bg-gradient-to-r from-primary to-cyan-500 hover:opacity-90",disabled:j,children:j?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Creating account..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Create Account ",e.jsx(K,{className:"h-5 w-5"})]})})]})})]}),e.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(b,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Log in"})]})]})]})]})};export{me as default};
